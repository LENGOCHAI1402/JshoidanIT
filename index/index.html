<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>
<script>

    // // promise example

    // const promiseExp = () => {
    //     return new Promise ((resolve, reject) => {
    //         // resolve({name: 'le ngoc hai', age: 23})
    //         reject('lengochai')
    //     });
    // }

    // promiseExp().then(data => {
    //     console.log(data);
    // })
    // .catch(erorr => {
    //     console.log(erorr)
    // })

    // fetch('https://jsonplaceholder.typicode.com/todos/1')
    // .then(response => {
    //     return response.json()

    // })
    // .then(data => {
    //     console.log('check fetch data', data)
    // })

    // const geNewToDo = async(id) => {
    //     let response =  await fetch(`https://jsonplaceholder.typicode.com/todos/${id}`);
    //     // console.log('>>>check respone: ', response)
    //     if(response && response.status !== 200) {
    //         throw new Error('somethings wrongs with status code: ' + response.status) 
    //         //  reject
    //     } 
    //     let data = await response.json()
    //     return data; // resole
    // }

    // geNewToDo("dfdfd").then(data => {
    //     console.log("check data: ", data)
    // })
    // .catch(err => {
    //     console.log("check error: ", err.message)
    // })

    const geNewToDo = async (id) => {
        try {
            let response = await fetch(`https://jsonplaceholder.typicode.com/todos/${id}`);
            if (response && response.status !== 200) {
                throw new Error('somethings wrongs with status code: ' + response.status)
                //  reject
            }
            // console.log('>>>check respone: ', response)
            let data = await response.json()
            return data; // resole

        } catch (e) {
            console.log("check catch error: ", e.message)
        }
    }

    geNewToDo("dfdfd").then(data => {
        console.log("check data: ", data)
    })
        .catch(err => {
            console.log("check error: ", err.message)
        })


    // cách viết truyền thống
    // async function geNewToDo () {

    // }


</script>

<body>
    <h1>Hello world from Hải Lê Ngọc</h1>
</body>

</html>